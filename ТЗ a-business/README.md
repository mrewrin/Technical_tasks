UPD от 11.02: Добавил реализацию через функцию
